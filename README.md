# Пульт охраны банка

Пульт охраны – сайт, который можно подключить к БД с визитами и карточками сотрудников. Позволяет посмотреть список всех активных карточек доступа, визиты по каждой из карточек и список людей, находящихся в хранилище прямо сейчас.

### Как установить

Скрипты тестировались на версии Python 3.13.3 и могут некорректно работать на более поздних версиях. 
Для Windows и Mac нужную версию можно скачать по [ссылке](https://www.python.org/downloads/release/python-3133/).
Для Linux установка альтернативной версии Python осуществляется средствами [pyenv](https://github.com/pyenv/pyenv).

На Linux может потребоваться дополнительно установить `libpq-dev` – библиотеку для взавимодействия с PostgreSQL, если она не была ранее установлена. Например, на Ubuntu это можно сделать так:

```
sudo apt install libpq-dev
```

Также, потребуется установить зависимости, используя команду `pip` или `pip3` (в случае, если на компьютере установлены одновременно 2 и 3 версии Python).

Установка зависимостей:

```
pip install -r requirements.txt
```

### Переменные окружения

Для корректной работы скриптов создайте файл с именем `.env` и поместите в него следующие данные:

* DB_HOST – адрес хоста, на котором находится база PostgreSQL
* DB_PORT – номер порта хоста, на котором находится база PostgreSQL
* DB_NAME – имя базы данных, к которой надо подключиться
* DB_USER – имя пользователя
* DB_PASSWORD – пароль
* SECRET_KEY – ключ для шифрования подключения
* DEBUG – режим отладки. Выключен по умолчанию
* ALLOWED_HOSTS – список адресов, с которыми сайт может работать.
* VISIT_TIME_LIMIT_IN_MINUTES – лимит для посещения хранилища в минутах. Все посещения, которые превысят его, будут помечены как подозрительные

Файлы с расширением `.env` поддерживают комментарии. Они начинаются знаком `#`. Вы можете указать туда дополнительную информацию для себя.

Пример содержания файла:

```
#Подключение к БД
DB_HOST=some.address.com
DB_PORT=9999
DB_NAME=db_name
DB_USER=username
DB_PASSWORD=password
#Прочее
SECRET_KEY=your_secret_key
DEBUG=False
ALLOWED_HOSTS=localhost,127.0.0.1
VISIT_TIME_LIMIT_IN_MINUTES=60
```

Данные указаны для примера, не забудьте их заменить

### Запуск

Для запуска откройте консоль, перейдите в папку со скриптом и используйте следующую команду:

```
python manage.py runserver
```

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
